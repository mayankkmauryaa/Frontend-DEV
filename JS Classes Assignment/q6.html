<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Q6 - Employee Management System</title>
    </head>
    <body>
        <h2>Q6 - Employee Management System</h2>
        <pre id="out"></pre>

        <script>
    // Employee class
    class Employee {
      constructor(id, name, department, salary){
        this.id = id;
        this.name = name;
        this.department = department;
        this.salary = salary; // monthly salary assumed
      }

      // get annual salary (12 * monthly salary)
      getAnnualSalary = () => +(this.salary * 12).toFixed(2);

      // apply bonus percent to monthly salary (mutates salary)
      applyBonus = (percent) => {
        this.salary = +(this.salary * (1 + percent/100)).toFixed(2);
      }
    }

    // Create 5 employees
    const emps = [
      new Employee(1, 'Asha', 'Engineering', 60000),
      new Employee(2, 'Rohan', 'Marketing', 35000),
      new Employee(3, 'Meera', 'HR', 30000),
      new Employee(4, 'Sahil', 'Design', 45000),
      new Employee(5, 'Priya', 'Engineering', 70000)
    ];

    // Apply some bonus to a couple (demo)
    emps[0].applyBonus(10); // 10% bonus to Asha
    emps[4].applyBonus(5);  // 5% bonus to Priya

    // Calculate annual salary for each and total annual payout using reduce()
    const employeeSummaries = emps.map(e => ({ id: e.id, name: e.name, annual: e.getAnnualSalary() }));
    const totalAnnualPayout = emps.reduce((acc,e) => acc + e.getAnnualSalary(), 0);

    document.getElementById('out').textContent =
      `Employees (annual salaries):\n${employeeSummaries.map(s=>`${s.name}: ₹${s.annual}`).join('\n')}\n\nTotal Annual Payout: ₹${totalAnnualPayout.toFixed(2)}`;

    // Console table as well
    console.table(employeeSummaries);
  </script>
    </body>
</html>
